# 1inch Fusion+ Cosmos Relayer Environment Configuration

# === GENERAL CONFIGURATION ===
NODE_ENV=development
LOG_LEVEL=info
PORT=3000

# === PERSISTENCE CONFIGURATION ===
# Mode: 'postgres', 'redis', or 'hybrid'
PERSISTENCE_MODE=hybrid
PERSISTENCE_HEALTH_CHECK_INTERVAL=30000
PERSISTENCE_AUTO_RETRY=true
PERSISTENCE_MAX_RETRIES=3
PERSISTENCE_RETRY_DELAY=5000
PERSISTENCE_GRACEFUL_DEGRADATION=true
PERSISTENCE_ENABLE_WAL=true
PERSISTENCE_SNAPSHOT_INTERVAL=60000
PERSISTENCE_RETENTION_PERIOD=604800000
PERSISTENCE_BATCH_SIZE=100

# === POSTGRESQL CONFIGURATION ===
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DATABASE=fusion_relayer
POSTGRES_USERNAME=postgres
POSTGRES_PASSWORD=your_postgres_password
POSTGRES_SSL=false
POSTGRES_MAX_CONNECTIONS=20
POSTGRES_CONNECTION_TIMEOUT=5000

# === REDIS CONFIGURATION ===
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_KEY_PREFIX=fusion:
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=100
REDIS_ENABLE_OFFLINE_QUEUE=true

# === PROMETHEUS METRICS ===
METRICS_PORT=9090
METRICS_HOST=0.0.0.0
METRICS_AUTH_TOKEN=your_metrics_auth_token

# === ETHEREUM CONFIGURATION ===
ETHEREUM_RPC_URL=https://mainnet.infura.io/v3/your_project_id
ETHEREUM_PRIVATE_KEY=your_ethereum_private_key
ETHEREUM_HTLC_CONTRACT_ADDRESS=0x...
ETHEREUM_GAS_LIMIT=200000
ETHEREUM_GAS_PRICE=20000000000

# === COSMOS CONFIGURATION ===
COSMOS_RPC_URL=https://rpc.cosmos.network:443
COSMOS_MNEMONIC="your cosmos mnemonic phrase here"
COSMOS_ADDRESS_PREFIX=cosmos
COSMOS_GAS_PRICE=0.025uatom
COSMOS_HTLC_CONTRACT_ADDRESS=cosmos1...

# === OSMOSIS CONFIGURATION ===
OSMOSIS_RPC_URL=https://rpc.osmosis.zone:443
OSMOSIS_MNEMONIC="your osmosis mnemonic phrase here"
OSMOSIS_ADDRESS_PREFIX=osmo
OSMOSIS_GAS_PRICE=0.025uosmo

# === CHAIN REGISTRY ===
CHAIN_REGISTRY_URL=https://raw.githubusercontent.com/cosmos/chain-registry/master
CHAIN_REGISTRY_CACHE_TIMEOUT=300000
REGISTRY_CONTRACT_ADDRESS=osmo1...

# === IBC CONFIGURATION ===
IBC_TIMEOUT_SECONDS=3600
IBC_RETRY_ATTEMPTS=3
IBC_RETRY_DELAY=5000

# === RECOVERY CONFIGURATION ===
RECOVERY_CHECK_INTERVAL=60000
RECOVERY_MAX_RETRIES=3
RECOVERY_RETRY_DELAY=5000

# === CIRCUIT BREAKER CONFIGURATION ===
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_SUCCESS_THRESHOLD=3
CIRCUIT_BREAKER_TIMEOUT=60000
CIRCUIT_BREAKER_MONITORING_PERIOD=300000

# === MONITORING ===
HEALTH_CHECK_INTERVAL=30000
ENABLE_DETAILED_LOGGING=true

# === SECRETS MANAGEMENT ===
# Provider: 'env', 'aws', 'vault', or 'multi' for multiple providers
SECRETS_PROVIDER=env
SECRETS_REFRESH_INTERVAL=0
SECRETS_CACHE_TIMEOUT=300000
SECRETS_RETRY_ATTEMPTS=3
SECRETS_RETRY_DELAY=1000
SECRETS_HEALTH_CHECK_INTERVAL=60000

# Multi-provider configuration
SECRETS_MULTI_PROVIDER=false
SECRETS_FAILOVER_THRESHOLD=3

# Environment provider configuration
SECRETS_ENV_PREFIX=FUSION_
SECRETS_ENV_TRANSFORM=uppercase

# AWS Secrets Manager configuration
AWS_REGION=us-west-2
AWS_ACCESS_KEY_ID=your_access_key
AWS_SECRET_ACCESS_KEY=your_secret_key
AWS_SESSION_TOKEN=your_session_token
AWS_SECRETS_MANAGER_ENDPOINT=
AWS_SECRETS_VERSION_STAGE=AWSCURRENT

# HashiCorp Vault configuration
VAULT_ENDPOINT=https://vault.example.com:8200
VAULT_TOKEN=your_vault_token
VAULT_ROLE_ID=your_role_id
VAULT_SECRET_ID=your_secret_id
VAULT_NAMESPACE=
VAULT_MOUNT_PATH=secret
VAULT_KV_VERSION=v2
VAULT_CA_CERT=
VAULT_CLIENT_CERT=
VAULT_CLIENT_KEY=
VAULT_SKIP_VERIFY=false

# === ACTUAL SECRETS (When using environment provider) ===
# These should be stored in AWS Secrets Manager or Vault in production
FUSION_ETHEREUM_PRIVATE_KEY=0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef
FUSION_COSMOS_MNEMONIC="abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about"
FUSION_OSMOSIS_MNEMONIC="abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about"
FUSION_POSTGRES_PASSWORD=your_strong_postgres_password
FUSION_REDIS_PASSWORD=your_redis_password
FUSION_ETHEREUM_RPC_API_KEY=your_infura_or_alchemy_key
FUSION_METRICS_AUTH_TOKEN=your_metrics_auth_token
FUSION_ADMIN_API_TOKEN=your_admin_api_token
FUSION_ENCRYPTION_KEY=your_32_byte_hex_encryption_key
FUSION_JWT_SECRET=your_jwt_signing_secret
FUSION_WEBHOOK_SECRET=your_webhook_verification_secret